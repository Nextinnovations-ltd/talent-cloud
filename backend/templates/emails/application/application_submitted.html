{% load static %}
<!DOCTYPE html>
<html lang="en">
     <head>
          <meta charset="utf-8"/>
          <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
          <title>Application Submitted</title>
          <style type="text/css">
               /* Ensure maximum compatibility */
               body, html { margin: 0 !important; padding: 0 !important; height: 100% !important; width: 100% !important; background-color: #F7F8FA; }
               table { border-collapse: collapse; mso-table-lspace: 0pt; mso-table-rspace: 0pt; }
               img { -ms-interpolation-mode: bicubic; }
               a { text-decoration: none; }
               /* Client-specific resets */
               div[class="ExternalClass"] { width: 100%; }
               div[class="ExternalClass"] p, div[class="ExternalClass"] span, div[class="ExternalClass"] font, div[class="ExternalClass"] td, div[class="ExternalClass"] div { line-height: 100%; }
               .ReadMsgBody { width: 100%; background-color: #FFFFFF; }
               .ExternalClass { width: 100%; background-color: #FFFFFF; }
               /* Mobile adjustment */
               @media screen and (max-width: 600px) {
                    .container-table { width: 100% !important; }
                    .content-padding { padding-left: 20px !important; padding-right: 20px !important; }
               }
          </style>
          <!--[if gte mso 9]>
          <xml>
          <o:OfficeDocumentSettings>
               <o:AllowPNG/>
               <o:PixelsPerInch>96</o:PixelsPerInch>
          </o:OfficeDocumentSettings>
          </xml>
          <![endif]-->
     </head>
     <body style="margin: 0; padding: 0; font-family: 'Poppins', sans-serif; background-color: #F7F8FA;">

          <!-- Main Wrapper Table -->
          <table role="presentation" border="0" cellpadding="0" cellspacing="0" width="100%" style="background-color: #F7F8FA;">
               <tr>
                    <td align="center" style="padding: 24px;">
                         <table class="container-table" role="presentation" border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width: 600px; border-collapse: collapse; border-radius: 8px; overflow: hidden; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1); background-color: #FFFFFF;">
                         
                         <!-- Header Section (Gradient Background and Image Layering) -->
                         <tr>
                              <td align="center" style="
                                   padding: 0; /* Padding is moved inside the content table */ 
                                   position: relative; 
                                   border-radius: 8px 8px 0 0;
                                   background-color: #E0F2FF; /* Fallback color for background */
                                   background-image: linear-gradient(180deg, #E0F2FF 0%, #FFFFFF 100%);
                                   font-family: 'Poppins', sans-serif;
                              ">
                                   <!-- 
                                        VML for Outlook and CSS background for modern clients. 
                                        The absolute <img> tag was removed as it causes rendering/layering conflicts (bleeding) in email clients.
                                    -->
                                   
                                   <!--[if gte mso 9]>
                                   <v:rect xmlns:v="urn:schemas-microsoft-com:vml" fill="true" stroke="false" style="width:600px;">
                                   <v:fill type="tile" src="https://talentcloudjobportal.s3.ap-northeast-1.amazonaws.com/NI_Company_Info/assets/bg_sky.png" color="#E0F2FF" />
                                   <v:textbox style="mso-fit-shape-to-text:true" inset="0,0,0,0">
                                   <![endif]-->

                                   <table role="presentation" border="0" cellpadding="0" cellspacing="0" width="100%" 
                                          style="
                                              /* CSS Background for modern clients */
                                              background-image: url('https://talentcloudjobportal.s3.ap-northeast-1.amazonaws.com/NI_Company_Info/assets/bg_sky.png'); 
                                              background-size: cover; 
                                              background-position: center top; 
                                              background-repeat: no-repeat;
                                              /* Ensure the text is opaque and on top */
                                              background-color: transparent;
                                          ">
                                        <tr>
                                             <td style="padding: 30px 24px;"> 
                                                  <!-- Header Content Table (Logo and Social Icons) -->
                                                  <table role="presentation" border="0" cellpadding="0" cellspacing="0" width="100%" style="position: relative; z-index: 10;">
                                                       <tr>
                                                            <!-- Logo -->
                                                            <td width="50%" align="left" style="font-family: 'Poppins', sans-serif; font-size: 20px; font-weight: 600; color: #1F2937; padding: 0;">
                                                                 <span style="display: inline-block; vertical-align: middle; margin-right: 8px; font-size: 24px; line-height: 1; color: #0389FF;">
                                                                      <img width="64" height="58" src="https://talentcloudjobportal.s3.ap-northeast-1.amazonaws.com/NI_Company_Info/assets/logo.png" alt="Talent Cloud Logo" style="display: block; border: 0;" />
                                                                 </span>
                                                                 <span style="vertical-align: middle;">Talent Cloud</span>
                                                            </td>
                                                            <!-- Social Icons -->
                                                            <td width="50%" align="right" style="padding: 0;">
                                                            <table role="presentation" border="0" cellpadding="0" cellspacing="0" style="display: inline-block;">
                                                                 <tr>
                                                                      <td style="padding-left: 16px;">
                                                                           <a href="https://www.linkedin.com/company/next-innovations2020" style="color: #6B7280; text-decoration: none; font-weight: 600; font-size: 18px;">
                                                                                <img width="24" height="24" src="https://talentcloudjobportal.s3.ap-northeast-1.amazonaws.com/NI_Company_Info/assets/linkedin.png" alt="LinkedIn" style="display: block; border: 0;" />
                                                                           </a>
                                                                      </td>
                                                                      <td style="padding-left: 16px;">
                                                                           <a href="https://www.facebook.com/profile.php?id=61578628769861" style="color: #6B7280; text-decoration: none; font-weight: 600; font-size: 18px;">
                                                                                <img width="24" height="24" src="https://talentcloudjobportal.s3.ap-northeast-1.amazonaws.com/NI_Company_Info/assets/facebook.png" alt="Facebook" style="display: block; border: 0;" />
                                                                           </a>
                                                                      </td>
                                                                      <td style="padding-left: 16px;">
                                                                           <a href="https://www.instagram.com/next_innovations_myanmar" style="color: #6B7280; text-decoration: none; font-weight: 600; font-size: 18px;">
                                                                                <img width="24" height="28" src="https://talentcloudjobportal.s3.ap-northeast-1.amazonaws.com/NI_Company_Info/assets/viber.png" alt="Viber" style="display: block; border: 0;" />
                                                                           </a>
                                                                      </td>
                                                                 </tr>
                                                            </table>
                                                            </td>
                                                       </tr>
                                                  </table>
                                                  
                                                  <!-- Center Image Placeholder -->
                                                  <table role="presentation" border="0" cellpadding="0" cellspacing="0" width="100%">
                                                       <tr>
                                                            <td align="center" style="padding-top: 32px; padding-bottom: 0;">
                                                                 <span style="display: inline-block; font-size: 48px; color: #0389FF;">
                                                                      <img width="265" height="265" src="https://talentcloudjobportal.s3.ap-northeast-1.amazonaws.com/NI_Company_Info/assets/note.png" alt="Hiring Icon" style="display: block; border: 0;" />
                                                                 </span>
                                                            </td>
                                                       </tr>
                                                  </table>
                                             </td>
                                        </tr>
                                   </table>
                                   
                                   <!--[if gte mso 9]>
                                   </v:textbox>
                                   </v:rect>
                                   <![endif]-->
                              </td>
                         </tr>

                         <!-- Main Content Section -->
                         <tr>
                              <td class="content-padding" style="padding: 40px; background-color: #FFFFFF; font-family: 'Poppins', sans-serif; color: #1F2937;">
                                   
                                   <h1 style="font-size: 24px; font-weight: 700; color: #0389FF; margin-top: 0; margin-bottom: 24px; text-align: left; text-transform: uppercase;">Application Submitted Successfully</h1>
                                   
                                   <p style="font-size: 16px; color: #1F2937; margin-top: 0; margin-bottom: 18px;">Hello {{ user_name|default:"User" }},</p>
                                   <p style="font-size: 16px; color: #575757; margin-top: 0; margin-bottom: 32px;">Congratulations! Your application for Senior UI UX Designer at Next Innovations has been successfully submitted.</p>

                                   <!-- Application Details Block -->
                                   <div style="background-color: #E0F2FF; border-radius: 8px; padding: 24px; margin-bottom: 32px;">
                                        <h2 style="font-size: 18px; font-weight: 600; color: #1F2937; margin-top: 0; margin-bottom: 16px;">Application Details</h2>
                                        <table border="0" cellpadding="0" cellspacing="0"
                                             style="border-collapse: collapse; font-size: 15px; width: 100%; table-layout: fixed;">
                                             
                                             <!-- Position -->
                                             {% if job_title %} 
                                             <tr>
                                             <td width="120" style="color: #6c757d; padding-bottom: 15px; vertical-align: top; white-space: nowrap; font-family: 'Poppins', sans-serif;">
                                                  Position
                                             </td>
                                             <td style="color: #212529; font-weight: bold; padding-bottom: 15px; vertical-align: top; font-family: 'Poppins', sans-serif;">
                                                  {{ job_title }}
                                             </td>
                                             </tr>
                                             {% endif %}

                                             <!-- Company -->
                                             {% if company_name %} 
                                             <tr>
                                             <td width="120" style="color: #6c757d; padding-bottom: 15px; vertical-align: top; white-space: nowrap; font-family: 'Poppins', sans-serif;">
                                                  Company
                                             </td>
                                             <td style="color: #212529; font-weight: bold; padding-bottom: 15px; vertical-align: top; font-family: 'Poppins', sans-serif;">
                                                  {{ company_name }}
                                             </td>
                                             </tr>
                                             {% endif %}

                                             <!-- Time on -->
                                             {% if applied_date %}
                                             <tr>
                                             <td width="120" style="color: #6c757d; vertical-align: top; white-space: nowrap; font-family: 'Poppins', sans-serif;">
                                                  Time on
                                             </td>
                                             <td style="color: #212529; font-weight: bold; vertical-align: top; font-family: 'Poppins', sans-serif;">
                                                  {{ applied_date|date:"F d, Y \a\t g:i A" }}
                                             </td>
                                             </tr>
                                             {% endif %}
                                        </table>
                                   </div>

                                   <p style="font-size: 16px; color: #000000; margin-top: 40px; margin-bottom: 20px; text-align: left;">You can review the job details by clicking the button below:</p>
                                   
                                   <!-- Action Button -->
                                   <div style="text-align: left;">
                                        <a href="{{ job_url }}" target="_blank" style="
                                             display: inline-block; 
                                             background-color: #0481EF; 
                                             color: #FFFFFF; 
                                             font-family: 'Poppins', sans-serif; 
                                             font-weight: 600; 
                                             font-size: 16px; 
                                             line-height: 1;
                                             padding: 20px 32px; 
                                             border-radius: 8px; 
                                             text-decoration: none;
                                             box-shadow: 0 4px 6px -1px rgba(4, 129, 239, 0.5); /* Custom shadow for button */
                                        ">View Job Details</a>
                                   </div>

                                   <!-- Footer/Closing -->
                                   <div style="margin-top: 48px; padding-top: 24px; border-top: 1px solid #E5E7EB;">
                                        <p style="font-size: 16px; color: #6B7280; margin-top: 0; margin-bottom: 4px;">Best Regards,</p>
                                        <p style="font-size: 16px; font-weight: 600; color: #1F2937; margin-top: 0; margin-bottom: 0;">Talent Cloud Team</p>
                                   </div>
                              </td>
                         </tr>

                         </table>
                    </td>
               </tr>
          </table>
     </body>
</html>
